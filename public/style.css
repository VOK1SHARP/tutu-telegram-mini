/* Reset + base */
* { margin:0; padding:0; box-sizing:border-box; font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; -webkit-tap-highlight-color: transparent; }
html,body { height:100%; }
body { background:#f0f4f7; color:#333; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

/* Loader */
#loader {
    position: fixed; inset:0;
    display:flex; align-items:center; justify-content:center;
    background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
    z-index: 9999;
    transition: opacity .45s ease;
}
.loader-content { text-align:center; color:white; padding:20px; }
.loader-spinner { font-size:56px; margin-bottom:14px; animation: pulse 2s infinite; }
@keyframes pulse { 0%{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.85}100%{transform:scale(1);opacity:1} }
.fa-spin { animation: spin 1s linear infinite; }
@keyframes spin { 0%{transform:rotate(0)}100%{transform:rotate(360deg)} }
#loader h2 { font-size:32px; margin-bottom:6px; font-weight:700; }
#loader p { font-size:14px; opacity:0.95; }

/* App container */
#app {
    display: none;
    max-width:520px;
    margin: 12px auto 80px;
    min-height: 100vh;
    background: #ffffff;
    border-radius: 14px;
    overflow: hidden;
    box-shadow: 0 12px 30px rgba(12,18,26,0.08);
    position: relative;
}

/* Header */
.header { padding:16px; background: linear-gradient(135deg,#4CAF50 0%, #2E7D32 100%); color:white; position: sticky; top:0; z-index:50; }
.header-content { display:flex; align-items:center; justify-content:space-between; gap:12px; }
.logo { display:flex; align-items:center; gap:12px; cursor:pointer; }
.logo-icon { width:44px; height:44px; background:rgba(255,255,255,0.12); border-radius:10px; display:flex; align-items:center; justify-content:center; font-size:20px; }
.logo-text h1 { font-size:20px; margin-bottom:0; font-weight:700; line-height:1; }
.logo-text .subtitle { font-size:12px; opacity:0.95; margin-top:2px; }

/* User avatar */
.user-avatar { width:44px; height:44px; border-radius:50%; background:rgba(255,255,255,0.12); display:flex; align-items:center; justify-content:center; font-size:18px; position:relative; cursor:pointer; }
.tg-badge { position:absolute; bottom:-6px; right:-6px; width:20px; height:20px; border-radius:50%; background:#0088cc; color:white; display:flex; align-items:center; justify-content:center; font-size:11px; border:2px solid white; }

/* Banner */
.banner { margin:16px; padding:18px; border-radius:14px; color:white; text-align:center; background: linear-gradient(135deg,#667eea 0%, #764ba2 100%); box-shadow:0 10px 22px rgba(118,75,162,0.14); }
.banner h2 { font-size:20px; margin-bottom:6px; }
.banner p { font-size:14px; margin-bottom:10px; opacity:0.95; }
.banner-button { display:inline-block; padding:10px 20px; border-radius:22px; background:white; color:#667eea; font-weight:700; text-decoration:none; }

/* Navigation grid */
.nav-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:12px; padding:0 16px 18px; }
.nav-item { background:#f8f9fa; border-radius:12px; padding:14px; display:flex; align-items:center; gap:12px; cursor:pointer; box-shadow:0 6px 16px rgba(2,6,23,0.03); transition:transform .18s, box-shadow .18s; border:1px solid transparent; }
.nav-item:hover { transform:translateY(-6px); box-shadow:0 18px 40px rgba(2,6,23,0.06); border-color: rgba(76,175,80,0.06); }
.nav-icon { width:48px; height:48px; border-radius:12px; display:flex; align-items:center; justify-content:center; font-size:20px; color:white; }
.icon-tea { background: linear-gradient(135deg,#4CAF50,#2E7D32); }
.icon-orders { background: linear-gradient(135deg,#2196F3,#1976D2); }
.icon-cart { background: linear-gradient(135deg,#FF9800,#F57C00); }
.icon-profile { background: linear-gradient(135deg,#9C27B0,#6A1B9A); }
.nav-item h3 { font-size:14px; }
.nav-item p { font-size:12px; color:#666; }

/* Products */
.products-section { padding: 0 16px 18px; }
.section-title { display:flex; align-items:center; gap:8px; margin:8px 0 12px; font-size:18px; color:#333; }
.products-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:12px; }
.product-card { background:white; border-radius:12px; overflow:hidden; box-shadow:0 6px 18px rgba(2,6,23,0.04); transition:transform .18s, box-shadow .18s; cursor:pointer; border:1px solid transparent; }
.product-card:hover { transform:translateY(-6px); box-shadow:0 20px 40px rgba(2,6,23,0.06); }
.product-image { height:120px; display:flex; align-items:center; justify-content:center; color:white; font-size:28px; position:relative; }
.product-image.puer { background:linear-gradient(135deg,#8D6E63,#5D4037); }
.product-image["red-tea"], .product-image.red-tea { background:linear-gradient(135deg,#FF5252,#D32F2F); }
.product-image.oolong { background:linear-gradient(135deg,#FFB74D,#F57C00); }
.product-image.gaba { background:linear-gradient(135deg,#7B1FA2,#4A148C); }
.product-image.green-tea { background:linear-gradient(135deg,#4CAF50,#2E7D32); }
.product-tag { position:absolute; top:8px; right:8px; background:rgba(0,0,0,0.7); color:white; padding:6px 8px; border-radius:8px; font-size:11px; font-weight:700; }
.product-info { padding:12px; }
.product-name { font-weight:700; font-size:14px; margin-bottom:6px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; color:#222; }
.product-subtitle { font-size:13px; color:#666; margin-bottom:8px; }
.product-price { font-size:16px; font-weight:800; color:#4CAF50; margin-bottom:8px; }
.product-button { width:100%; padding:8px; border-radius:10px; border:none; font-weight:700; cursor:pointer; background:linear-gradient(135deg,#4CAF50,#2E7D32); color:white; }

/* Cart footer */
.cart-footer { position:sticky; bottom:0; background:white; padding:14px; border-top:1px solid #e9f5ee; box-shadow:0 -6px 20px rgba(2,6,23,0.04); }
.cart-content { display:flex; justify-content:space-between; align-items:center; gap:12px; max-width:500px; margin:0 auto; padding:0 16px; }
.checkout-button { padding:10px 16px; border-radius:25px; border:none; background:linear-gradient(135deg,#667eea,#764ba2); color:white; font-weight:700; cursor:pointer; }

/* Modal */
.modal { display:none; position:fixed; inset:0; background: rgba(0,0,0,0.45); align-items:flex-end; justify-content:center; z-index:1000; }
.modal .modal-content { background:white; border-radius:14px 14px 0 0; width:100%; max-width:520px; max-height:85vh; overflow:auto; }
.modal-header { background:linear-gradient(135deg,#4CAF50,#2E7D32); color:white; padding:12px 16px; display:flex; justify-content:space-between; align-items:center; position:sticky; top:0; }
.modal-body { padding:12px; }
.modal-close { background:none; border:none; color:white; font-size:22px; cursor:pointer; }

/* Toasts */
#toast-container { position:fixed; right:14px; top:14px; display:flex; flex-direction:column; gap:8px; z-index:2000; }
.app-toast { background:rgba(0,0,0,0.8); color:white; padding:10px 14px; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,0.2); }

/* small screens tweaks */
@media (max-width:520px) {
    #app { margin: 8px; border-radius: 10px; box-shadow: none; }
    .banner { margin:12px; }
    .nav-grid { padding:0 12px 16px; }
}

/* utility */
.hidden { display:none !important; }
